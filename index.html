<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L&J Déménagement</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }

        .video-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
            overflow: hidden;
        }
        
        .video-background iframe {
            width: 100%;
            height: 100%;
            object-fit: cover;
            pointer-events: none;
        }

        .content-container {
            position: relative;
            z-index: 1;
            background-color: rgba(255, 255, 255, 0.8); /* Adjust opacity as needed */
            padding: 20px;
            max-width: 800px;
            margin: 2rem auto;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
            max-height: 80vh;
        }

        .navigation-button {
            display: inline-block;
            margin: 5px;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .next-button {
            background-color: #3b82f6;
            color: white;
        }
        .back-button {
            background-color: #a0aec0;
            color: white;
        }

        .whatsapp-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #25D366;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }
    </style>
</head>

<body class="font-sans antialiased">
    <div class="video-background">
        <iframe src="https://www.youtube.com/embed/u5N-ZsToOmo?autoplay=1&mute=1&loop=1&playlist=u5N-ZsToOmo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
    </div>

    <div id="page1" class="content-container">
        <h1 class="text-2xl font-bold text-blue-600 mb-6 text-center">Rapide, Simple et Transparent Avec L&J Déménagement</h1>
        <p class="text-gray-700 mb-4 text-base font-bold text-center">OBTENEZ LE PRIX DE VOTRE DEVIS EN 5 MINUTES AVEC NOTRE APPLICATION UNIQUE EN SUISSE.</p>
        <p class="text-gray-700 mb-6 text-base font-bold text-center">RÉPONDEZ À 23 QUESTIONS ET DÉCOUVREZ VOTRE PRIX INSTANTANÉMENT.</p>
        <div class="text-center">
            <button class="bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600" onclick="showPage('page2')">Démarrer votre devis maintenant</button>
        </div>
        <p class="text-green-500 mt-4 font-bold text-center">178 Devis Réalisés la semaine dernière</p>
    </div>

    <div id="page2" class="content-container hidden">
        <h1 class="text-2xl font-bold text-center text-blue-600 mb-6">Votre Déménagement Commence ici</h1>
        <div class="progress-bar mb-4">
            <div id="progress" class="progress" style="height: 4px; background-color: #3b82f6;"></div>
        </div>
        <form id="devisForm" onsubmit="return false;">
            <!-- Questions 1 à 23 -->
            <div class="form-group mb-4" data-question="1">
                <label for="nom_prenom" class="block text-gray-700">1. Nom et Prénom :</label>
                <input type="text" id="nom_prenom" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="exemple : Alan Favre" required>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="2">
                <label for="email" class="block text-gray-700">2. Adresse Mail :</label>
                <input type="email" id="email" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="exemple : alan.favre@exemple.com" required>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="3">
                <label for="telephone" class="block text-gray-700">3. Numéro de Téléphone :</label>
                <input type="tel" id="telephone" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="exemple : 077 345 34 45" required>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="4">
                <label for="adresse_actuelle" class="block text-gray-700">4. Votre Adresse Actuelle & Étages :</label>
                <input type="text" id="adresse_actuelle" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="exemple : Av Louis 5, 1400 Yverdon / 2ème étage" required>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="5">
                <label for="adresse_future" class="block text-gray-700">5. Adresse de Destination & Étages :</label>
                <input type="text" id="adresse_future" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="exemple : Rue du Lac 8, 1003 Lausanne / 3ème étage" required>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="6">
                <label for="statut" class="block text-gray-700">6. Votre Statut :</label>
                <select id="statut" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                    <option value="" disabled selected>Choisissez…</option>
                    <option value="Particulier">Particulier</option>
                    <option value="Entreprise">Entreprise</option>
                    <option value="Autre">Autre</option>
                </select>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="7">
                <label for="formule" class="block text-gray-700">7. Sélection de la Formule :</label>
                <select id="formule" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                    <option value="" disabled selected>Choisissez…</option>
                    <option value="economique">Formule Économique</option>
                    <option value="premium">Formule Premium</option>
                    <option value="prestige">Formule Prestige</option>
                </select>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="8">
                <label for="objet" class="block text-gray-700">8. Type de Logement :</label>
                <select id="objet" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                    <option value="" disabled selected>Choisissez…</option>
                    <option value="Appartement">Appartement</option>
                    <option value="Maison">Maison</option>
                    <option value="Locaux">Locaux</option>
                    <option value="Autre">Autre</option>
                </select>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="9">
                <label for="pieces" class="block text-gray-700">9. Nombre de Pièces :</label>
                <select id="pieces" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                    <option value="" disabled selected>Choisissez…</option>
                    <option value="studio">Studio</option>
                    <option value="une_piece">Une pièce</option>
                    <option value="deux_pieces">Deux pièces</option>
                    <option value="trois_pieces">Trois pièces</option>
                    <option value="quatre_pieces">Quatre pièces</option>
                    <option value="cinq_pieces">Cinq pièces</option>
                    <option value="six_pieces">Six pièces</option>
                    <option value="sept_pieces">Sept pièces</option>
                    <option value="huit_pieces">Huit pièces</option>
                    <option value="neuf_pieces">Neuf pièces</option>
                    <option value="dix_pieces">Dix pièces</option>
                </select>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="10">
                <label for="nettoyage" class="block text-gray-700">10. Service de Nettoyage :</label>
                <select id="nettoyage" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                    <option value="" disabled selected>Choisissez…</option>
                    <option value="0">Pas de nettoyage</option>
                    <option value="30_49">30 m² à 49 m²</option>
                    <option value="50_69">50 m² à 69 m²</option>
                    <option value="70_89">70 m² à 89 m²</option>
                    <option value="90_109">90 m² à 109 m²</option>
                    <option value="110_129">110 m² à 129 m²</option>
                    <option value="130_149">130 m² à 149 m²</option>
                    <option value="150_169">150 m² à 169 m²</option>
                    <option value="170_189">170 m² à 189 m²</option>
                    <option value="190_209">190 m² à 209 m²</option>
                    <option value="210_229">210 m² à 229 m²</option>
                    <option value="230_249">230 m² à 249 m²</option>
                    <option value="250_269">250 m² à 269 m²</option>
                    <option value="270_289">270 m² à 289 m²</option>
                    <option value="290_309">290 m² à 309 m²</option>
                    <option value="plus_310">Plus de 310 m²</option>
                </select>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="11">
                <label for="distance" class="block text-gray-700">11. Distance du Déménagement :</label>
                <select id="distance" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                    <option value="" disabled selected>Choisissez…</option>
                    <option value="0_9">0-9 km</option>
                    <option value="10_29">10-29 km</option>
                    <option value="30_49">30-49 km</option>
                    <option value="50_69">50-69 km</option>
                    <option value="70_89">70-89 km</option>
                    <option value="90_109">90-109 km</option>
                    <option value="110_plus">Plus de 110 km</option>
                </select>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="12">
                <label for="lit_adulte" class="block text-gray-700">12. Nombre de Lits Adultes :</label>
                <select id="lit_adulte" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                    <option value="" disabled selected>Choisissez…</option>
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7_plus">7 et plus</option>
                </select>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="13">
                <label for="lit_enfant" class="block text-gray-700">13. Nombre de Lits Enfants :</label>
                <select id="lit_enfant" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                    <option value="" disabled selected>Choisissez…</option>
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7_plus">7 et plus</option>
                </select>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="14">
                <label for="meubles" class="block text-gray-700">14. Meubles à Démonter :</label>
                <select id="meubles" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                    <option value="" disabled selected>Choisissez…</option>
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7_plus">7 et plus</option>
                </select>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="15">
                <label for="canape" class="block text-gray-700">15. Canapés :</label>
                <select id="canape" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                    <option value="" disabled selected>Choisissez…</option>
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7_plus">7 et plus</option>
                </select>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="16">
                <label for="electromenager" class="block text-gray-700">16. Électroménager :</label>
                <select id="electromenager" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                    <option value="" disabled selected>Choisissez…</option>
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7_plus">7 et plus</option>
                </select>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="17">
                <label for="balcon" class="block text-gray-700">17. Balcon/Terrasse :</label>
                <select id="balcon" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                    <option value="" disabled selected>Choisissez…</option>
                    <option value="non">Non</option>
                    <option value="balcon">Oui, Balcon</option>
                    <option value="terrasse">Oui, Terrasse</option>
                </select>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="18">
                <label for="cave" class="block text-gray-700">18. Cave :</label>
                <select id="cave" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                    <option value="" disabled selected>Choisissez…</option>
                    <option value="non">Non</option>
                    <option value="oui">Oui</option>
                </select>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="19">
                <label for="acces" class="block text-gray-700">19. Conditions d'Accès :</label>
                <select id="acces" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                    <option value="" disabled selected>Choisissez…</option>
                    <option value="facile">Facile</option>
                    <option value="difficile">Difficile</option>
                </select>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="20">
                <label for="ascenseur" class="block text-gray-700">20. Ascenseur Disponible :</label>
                <select id="ascenseur" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                    <option value="" disabled selected>Choisissez…</option>
                    <option value="rez_de_chaussee">Rez-de-chaussée</option>
                    <option value="deux_adresses">Oui aux deux adresses</option>
                    <option value="une_adresse">Oui à une seule adresse</option>
                    <option value="non">Non</option>
                </select>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="21">
                <label for="monte_charge" class="block text-gray-700">21. Monte-Meuble Nécessaire :</label>
                <select id="monte_charge" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                    <option value="" disabled selected>Choisissez…</option>
                    <option value="non">Non</option>
                    <option value="oui">Oui</option>
                </select>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="22">
                <label for="cartons" class="block text-gray-700">22. Besoin de Cartons :</label>
                <select id="cartons" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                    <option value="" disabled selected>Choisissez…</option>
                    <option value="non">Non</option>
                    <option value="formule_m">Formule M (lot de 10 cartons) à 49.-</option>
                    <option value="formule_l">Formule L (lot de 30 cartons) à 138.-</option>
                    <option value="formule_xl">Formule XL (lot de 60 cartons) à 270.-</option>
                </select>
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="nextQuestion()">Suivant</button>
                </div>
            </div>
            <div class="form-group mb-4 hidden" data-question="23">
                <label for="commentaires" class="block text-gray-700">23. Commentaires ou Informations Supplémentaires :</label>
                <input type="text" id="commentaires" class="w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" placeholder="Toute information supplémentaire">
                <div class="flex justify-between">
                    <button type="button" class="navigation-button back-button" onclick="previousQuestion()">Retour</button>
                    <button type="button" class="navigation-button next-button" onclick="validateForm()">Connaitre le coût de mon déménagement</button>
                </div>
            </div>
        </form>
        <p id="resultat" class="mt-4 text-xl text-center"></p>
        <div class="error-message text-red-500 hidden" id="error-message">Veuillez remplir tous les champs requis.</div>
        <div class="confirmation-message text-green-500 hidden" id="confirmation-message">Confirmation de l'envoi</div>
    </div>

    <div id="page3" class="content-container hidden">
        <div class="p-6 text-center">
            <h1 class="text-2xl font-bold text-blue-600 mb-6">Votre Déménagement Pour Seulement <span class="discounted-price" id="discountedPrice"></span> CHF</h1>
            <div class="mb-4">
                <button class="bg-green-500 text-white py-2 px-4 mb-4 rounded-md hover:bg-green-600" onclick="markContacted()">Réservez maintenant votre déménagement à ce tarif exceptionnel.</button>
                <button class="bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600" onclick="window.location.href='https://ljdemenagement.com'">Site Web</button>
                <button class="bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600" onclick="window.location.href='https://ljdemenagement.com/contact'">Page de Contact</button>
            </div>
            <p>Votre avis compte ! <a href="https://g.co/kgs/Cug2Dpz" target="_blank" class="text-blue-500 hover:underline">Laissez un feedback sur Google.</a></p>
            <p id="additional-cost-message" class="text-red-500 mt-4 hidden">Vous avez choisi des options qui peuvent entraîner des coûts supplémentaires.</p>
        </div>
    </div>

    <button class="whatsapp-button"><i class="fab fa-whatsapp"></i></button>

    <script>
        let currentQuestion = 1;
        const totalQuestions = 23;

        function showPage(page) {
            document.getElementById('page1').classList.add('hidden');
            document.getElementById('page2').classList.add('hidden');
            document.getElementById('page3').classList.add('hidden');
            document.getElementById(page).classList.remove('hidden');
        }

        function nextQuestion() {
            const currentDiv = document.querySelector(`[data-question="${currentQuestion}"]`);
            currentDiv.classList.add('hidden');
            currentQuestion++;
            if (currentQuestion <= totalQuestions) {
                const nextDiv = document.querySelector(`[data-question="${currentQuestion}"]`);
                nextDiv.classList.remove('hidden');
            } else {
                showPage('page3');
            }
            updateProgressBar();
        }

        function previousQuestion() {
            if (currentQuestion > 1) {
                const currentDiv = document.querySelector(`[data-question="${currentQuestion}"]`);
                currentDiv.classList.add('hidden');
                currentQuestion--;
                const previousDiv = document.querySelector(`[data-question="${currentQuestion}"]`);
                previousDiv.classList.remove('hidden');
            } else {
                showPage('page1');
            }
            updateProgressBar();
        }

        function updateProgressBar() {
            const progress = (currentQuestion / totalQuestions) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
        }

        function validateForm() {
            const email = document.getElementById('email').value;
            const telephone = document.getElementById('telephone').value;

            if (!email || !telephone) {
                document.getElementById('error-message').style.display = 'block';
                setTimeout(() => {
                    document.getElementById('error-message').style.display = 'none';
                }, 3000);
                return;
            }

            const cost = calculateCost();
            saveForm(cost);
            checkAdditionalCost();
            showPage('page3');
        }

        function calculateCost() {
            let cost = 1000; // Coût de base pour le déménagement

            // Récupération des réponses du formulaire
            const formule = document.getElementById('formule').value;
            const pieces = document.getElementById('pieces').value;
            const cartons = document.getElementById('cartons').value;
            const nettoyage = document.getElementById('nettoyage').value;
            const distance = document.getElementById('distance').value;
            const lit_adulte = document.getElementById('lit_adulte').value;
            const lit_enfant = document.getElementById('lit_enfant').value;
            const meubles = document.getElementById('meubles').value;
            const canape = document.getElementById('canape').value;
            const electromenager = document.getElementById('electromenager').value;
            const balcon = document.getElementById('balcon').value;
            const cave = document.getElementById('cave').value;
            const acces = document.getElementById('acces').value;
            const ascenseur = document.getElementById('ascenseur').value;
            const monte_charge = document.getElementById('monte_charge').value;

            // Calcul basé sur la formule choisie
            if (formule === 'economique') cost += 0;
            else if (formule === 'premium') cost += 100;
            else if (formule === 'prestige') cost += 200;

            // Coût basé sur le nombre de pièces
            const piecesCost = {
                studio: 450,
                une_piece: 600,
                deux_pieces: 900,
                trois_pieces: 1250,
                quatre_pieces: 1550,
                cinq_pieces: 1800,
                six_pieces: 2300,
                sept_pieces: 2550,
                huit_pieces: 2800,
                neuf_pieces: 3050,
                dix_pieces: 3400
            };
            cost += piecesCost[pieces] || 0;

            // Coût basé sur le nettoyage
            const nettoyageCosts = {
                '30_49': 350,
                '50_69': 450,
                '70_89': 600,
                '90_109': 750,
                '110_129': 900,
                '130_149': 1050,
                '150_169': 1200,
                '170_189': 1350,
                '190_209': 1500,
                'plus_310': 1650
            };
            cost += nettoyageCosts[nettoyage] || 0;

            // Coût basé sur la distance
            const distanceCosts = {
                '0_9': 0,
                '10_29': 50,
                '30_49': 80,
                '50_69': 120,
                '70_89': 160,
                '90_109': 210,
                '110_plus': 300
            };
            cost += distanceCosts[distance] || 0;

            // Coût basé sur les cartons
            const cartonsCosts = {
                'formule_m': 49,
                'formule_l': 138,
                'formule_xl': 270
            };
            cost += cartonsCosts[cartons] || 0;

            // Coût basé sur le nombre de lits adultes
            const litAdulteCosts = {
                '0': 0,
                '1': 0,
                '2': 50,
                '3': 100,
                '4': 150,
                '5': 200,
                '6': 250,
                '7_plus': 300
            };
            cost += litAdulteCosts[lit_adulte] || 0;

            // Coût basé sur le nombre de lits enfants
            const litEnfantCosts = {
                '0': 0,
                '1': 0,
                '2': 0,
                '3': 50,
                '4': 75,
                '5': 100,
                '6': 125,
                '7_plus': 150
            };
            cost += litEnfantCosts[lit_enfant] || 0;

            // Coût basé sur le nombre de meubles à démonter
            const meubleCosts = {
                '0': 0,
                '1': 150,
                '2': 300,
                '3': 450,
                '4': 600,
                '5': 750,
                '6': 900,
                '7_plus': 1050
            };
            cost += meubleCosts[meubles] || 0;

            // Coût basé sur le nombre de canapés
            const canapeCosts = {
                '0': -50,
                '1': 0,
                '2': 0,
                '3': 50,
                '4': 75,
                '5': 100,
                '6': 125,
                '7_plus': 150
            };
            cost += canapeCosts[canape] || 0;

            // Coût basé sur le nombre d'électroménagers
            const electromenagerCosts = {
                '0': 0,
                '1': 0,
                '2': 50,
                '3': 100,
                '4': 150,
                '5': 200,
                '6': 250,
                '7_plus': 300
            };
            cost += electromenagerCosts[electromenager] || 0;

            // Ajustements supplémentaires
            if (balcon === 'balcon') cost += cost * 0.10;
            if (balcon === 'terrasse') cost += cost * 0.15;
            if (cave === 'oui') cost += cost * 0.10;
            if (acces === 'difficile') cost += cost * 0.20;
            if (ascenseur === 'non') cost += cost * 0.10;
            else if (ascenseur === 'une_adresse') cost += cost * 0.05;
            if (monte_charge === 'oui') cost += 700;

            document.getElementById('discountedPrice').innerText = cost.toFixed(2);
            return cost;
        }

        function saveForm(cost) {
            const formDetails = {
                Nom_prenom: document.getElementById('nom_prenom').value,
                Email: document.getElementById('email').value,
                Telephone: document.getElementById('telephone').value,
                Adresse_actuelle: document.getElementById('adresse_actuelle').value,
                Adresse_future: document.getElementById('adresse_future').value,
                Statut: document.getElementById('statut').value,
                Formule: document.getElementById('formule').value,
                Objet: document.getElementById('objet').value,
                Pieces: document.getElementById('pieces').value,
                Nettoyage: document.getElementById('nettoyage').value,
                Distance: document.getElementById('distance').value,
                Lit_adulte: document.getElementById('lit_adulte').value,
                Lit_enfant: document.getElementById('lit_enfant').value,
                Meubles: document.getElementById('meubles').value,
                Canape: document.getElementById('canape').value,
                Electromenager: document.getElementById('electromenager').value,
                Balcon: document.getElementById('balcon').value,
                Cave: document.getElementById('cave').value,
                Acces: document.getElementById('acces').value,
                Ascenseur: document.getElementById('ascenseur').value,
                Monte_charge: document.getElementById('monte_charge').value,
                Cartons: document.getElementById('cartons').value,
                Commentaires: document.getElementById('commentaires').value,
                Estimated_cost: cost
            };

            const message = `
                Madame, Monsieur, 

                Nous vous remercions d'avoir utilisé notre application de devis instantané chez L&J Déménagement. Voici les détails de votre demande ainsi que le coût estimé :
                
                Nom et Prénom: ${formDetails.Nom_prenom}
                Email: ${formDetails.Email}
                Téléphone: ${formDetails.Telephone}
                Adresse Actuelle: ${formDetails.Adresse_actuelle}
                Adresse Future: ${formDetails.Adresse_future}
                Statut: ${formDetails.Statut}
                Formule: ${formDetails.Formule}
                Objet: ${formDetails.Objet}
                Pièces: ${formDetails.Pieces}
                Nettoyage: ${formDetails.Nettoyage}
                Distance: ${formDetails.Distance}
                Lits Adultes: ${formDetails.Lit_adulte}
                Lits Enfants: ${formDetails.Lit_enfant}
                Meubles à démonter: ${formDetails.Meubles}
                Canapés: ${formDetails.Canape}
                Électroménager: ${formDetails.Electromenager}
                Balcon/Terrasse: ${formDetails.Balcon}
                Cave: ${formDetails.Cave}
                Conditions d'Accès: ${formDetails.Acces}
                Ascenseur: ${formDetails.Ascenseur}
                Monte-charge: ${formDetails.Monte_charge}
                Cartons: ${formDetails.Cartons}
                Commentaires: ${formDetails.Commentaires}
                Coût Estimé: ${formDetails.Estimated_cost} CHF

                Pour confirmer votre déménagement avec nous, veuillez répondre à cet e-mail ou nous contacter au +41 78 749 35 94.

                Cordialement,

                L'équipe L&J Déménagement
            `;

            // Simulation de l'envoi du formulaire avec EmailJS
            emailjs.send("service_wd4pvu4", "template_e3f3f4p", {
                to_email: formDetails.Email,
                from_name: "L&J Déménagement",
                reply_to: formDetails.Email,
                subject: "Demande de devis de L&J Déménagement",
                message: message
            }).then((response) => {
                console.log('SUCCESS!', response.status, response.text);
                showConfirmationMessage();
            }, (err) => {
                console.error('FAILED...', err);
                alert("Échec de l'envoi du formulaire.");
            });
        }

        function checkAdditionalCost() {
            const additionalCostElements = ['plus_310', '110_plus', 'difficile', 'balcon', 'terrasse'];
            const selectedOptions = Array.from(document.querySelectorAll('select')).map(select => select.value);
            const hasAdditionalCost = selectedOptions.some(option => additionalCostElements.includes(option));

            if (hasAdditionalCost) {
                document.getElementById('additional-cost-message').classList.remove('hidden');
            } else {
                document.getElementById('additional-cost-message').classList.add('hidden');
            }
        }

        function showConfirmationMessage() {
            const confirmationMessage = document.getElementById('confirmation-message');
            confirmationMessage.style.display = 'block';
            confirmationMessage.innerText = "Confirmation de l'envoi";
            setTimeout(() => {
                confirmationMessage.style.display = 'none';
            }, 3000);
        }

        function markContacted() {
            alert('Votre demande a été envoyée avec succès !');
        }
    </script>
</body>
</html>